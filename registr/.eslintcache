[{"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\index.js":"1","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\reportWebVitals.js":"2","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\pages\\App.js":"3","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\component\\ComponentReg.js":"4","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\actions\\auth.js":"5","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\services\\api.js":"6","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\component\\ComponentShow.js":"7","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\component\\ComponentEdit.js":"8"},{"size":598,"mtime":1607710208711,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1606926321507,"results":"11","hashOfConfig":"10"},{"size":546,"mtime":1607710731867,"results":"12","hashOfConfig":"10"},{"size":4217,"mtime":1607710627898,"results":"13","hashOfConfig":"10"},{"size":788,"mtime":1607696350817,"results":"14","hashOfConfig":"10"},{"size":293,"mtime":1607271593615,"results":"15","hashOfConfig":"10"},{"size":1012,"mtime":1607707936561,"results":"16","hashOfConfig":"10"},{"size":1313,"mtime":1607707779468,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gv0yzk",{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\index.js",[],"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\reportWebVitals.js",[],["36","37"],"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\pages\\App.js",[],"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\component\\ComponentReg.js",["38"],"import React, {useEffect, useState, useReducer, useCallback} from 'react';\r\nimport {getAllPost, createUser, postsDelete, } from 'actions/auth';\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst initialState = {\r\n  title: '',\r\n  author: '',\r\n  text: '',\r\n  posts: [],\r\n  call:[]\r\n}\r\nexport const testReducer = (state, action) => {\r\n  switch(action.type) {\r\n      case 'ADD_VALUES':\r\n          return {\r\n              ...state,\r\n              ...action.payload\r\n          };\r\n      case 'CLEAR_VALUES':\r\n        return {\r\n            ...state,\r\n            title: '',\r\n            author: '',\r\n            text: ''\r\n        };\r\n      case 'GET_POSTS':\r\n        return {\r\n          ...state,\r\n          posts: action.payload\r\n        };\r\n        \r\n        case 'DEL_POSTS':\r\n          return {\r\n            ...state,\r\n            ...action.payload\r\n\r\n          };\r\n      default:\r\n          return state\r\n\r\n          case 'SHOW_POST':\r\n            return {\r\n              ...state,\r\n              title:'title',\r\n              author:'author',\r\n              text:'text'\r\n\r\n            };\r\n          \r\n\r\n        //   case 'EDIT_POSTS':\r\n        // return {\r\n        //   ...state,\r\n          \r\n        // };\r\n  }\r\n\r\n};\r\nconst ComponentReg = () =>{\r\n    const [state, dispatch] = useReducer(testReducer, initialState);\r\n    const {title, author, text, posts} = state\r\n\r\n    useEffect(()=> {\r\n      getPosts();\r\n    }, [])\r\n\r\n    const getPosts = () => {\r\n      getAllPost().then(res => {\r\n        if(res.statusText === 'OK'){\r\n          dispatch({type: 'GET_POSTS', payload: res.data});\r\n        }\r\n      })\r\n    }\r\n\r\n    const handleChange = useCallback((e)=> {\r\n      dispatch({type:'ADD_VALUES', payload: {[e.currentTarget.name]: e.currentTarget.value}})\r\n    },[])\r\n\r\n    const addFun= () => {\r\n      if(title!==\"\"&&author!==\"\"&& text!==\"\"){\r\n        createUser({title, author, text}).then(res=> {\r\n          if (res.statusText === 'OK') {\r\n            dispatch({type:'CLEAR_VALUES'})\r\n            getPosts();\r\n          }\r\n        })\r\n        .catch(err=>console.error(err))\r\n      }\r\n    }\r\n\r\n\r\n    const delFun = (id) =>{\r\n      postsDelete({id}).then(res => {\r\n        if (res.statusText === 'OK') {\r\n        dispatch({type: 'DEL_POSTS'})\r\n        getPosts();\r\n        }\r\n      })\r\n      .catch(err=>console.error(err))\r\n    }\r\n\r\n\r\n\r\n\r\n    return(\r\n      \r\n<div className='box' > \r\n    <div className='regClass'>\r\n        <div className='registr'>\r\n            <p>title</p>\r\n            <input className='text' type='text' placeholder='title' onChange={e => handleChange(e)} value={state.title} name='title' />\r\n             <p>author</p>\r\n             <input className='text' type=\"text\" placeholder=\"auther\" onChange={e =>handleChange(e)} value={state.author} name='author' />\r\n             <p>text</p>\r\n             <textarea className='text' type=\"text\" onChange={e=>handleChange(e)} value={state.text}  name='text' />\r\n             <br></br>\r\n             <button className='textbtn' onClick={addFun}>Add the post</button>\r\n        </div>\r\n         </div>\r\n\r\n  <div className=\"tableDiv\">\r\n        <thead className=\"classThead\">\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Title</th>\r\n                <th>Author</th>\r\n                <th>text</th>\r\n                <th>Tools</th>\r\n            </tr>\r\n            \r\n            <tr>\r\n                <td colSpan=\"4\">There are no posts to show. Create one!</td> \r\n\r\n            </tr>\r\n            \r\n            </thead> \r\n       <tbody>\r\n            {posts.map((item,index)=>{\r\n              return(\r\n                \r\n                <tr key={item.id}>\r\n                    <td>{index + 1 }</td>\r\n                    <td>{item.title}</td>\r\n                    <td>{item.author}</td>\r\n                    <td>{item.text}</td>\r\n                    <td style={{cursor: 'pointer'}} onClick={(e) => delFun(item.id)}>Delete</td>\r\n                    <td><Link to={`/show/${item.id}`} >show</Link></td>\r\n                    <td><Link to={`/edit/${item.id}`} >edit</Link></td>\r\n\r\n  \r\n                </tr>\r\n              )\r\n              \r\n            })}\r\n            </tbody>\r\n    </div>\r\n \r\n</div>  \r\n    )\r\n}\r\n\r\n\r\nexport default ComponentReg;","C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\actions\\auth.js",[],"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\services\\api.js",[],"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\component\\ComponentShow.js",[],"C:\\Users\\68683\\OneDrive\\Рабочий стол\\registr1\\registr\\src\\component\\ComponentEdit.js",[],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":1,"column":27,"nodeType":"45","messageId":"46","endLine":1,"endColumn":35},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]